.features {
  background-image: linear-gradient(-180deg, transparent 0%, rgba(11,128,235,.5) 62%),
    url('../assets/imgs/bg-features-mobile-color.png'),
    gradient-contrast-blue-400($angle: 190deg);
  background-repeat: no-repeat;
  background-position-x: center, center, center;
  background-position-y: bottom -180px, bottom, center;
  background-size: 100% 433px, 750px, 100%;

  padding-top: $block-p-lg;
  padding-bottom: $block-p-lg;

  &--state--open {
    background-image: linear-gradient(-180deg, transparent 0%, rgba(11,128,235,.9) 62%),
      url('../assets/imgs/bg-features-mobile-color.png'),
      gradient-contrast-blue-400($angle: 190deg);
    background-repeat: no-repeat;
    background-position-x: center, center, center;
    background-position-y: bottom, bottom, center;
    background-size: 100% 433px, 750px, 100%;
  }

  @include respond-to(tablet) {
    padding-top: $block-p-lg * 2;
    padding-bottom: $block-p-lg * 1.65;

    background-image:
      linear-gradient(-180deg, rgba(0,198,255,0.00) 0%, rgba(11,128,235,0.5) 62%),
      url('../assets/imgs/bg-features-tablet-color.png'),
      gradient-contrast-blue-400($angle: 219deg);
    background-position-y: bottom, bottom -30%, center;
    background-position-x: center, center, center;
    background-size: 100% 433px, 1000px, 100%;

    &--state--open {
      background-image: linear-gradient(-180deg, transparent 0%, rgba(11,128,235,.9) 62%),
        url('../assets/imgs/bg-features-tablet-color.png'),
        gradient-contrast-blue-400($angle: 219deg);

      background-position-y: bottom, bottom, center;
    }
  }

  @include respond-to(medium) {
    background-image:
      linear-gradient(-180deg, rgba(0,198,255,0.00) 0%, rgba(11,128,235,0.5) 62%),
      url('../assets/imgs/bg-features-color.png'),
      gradient-contrast-blue-400($angle: 219deg);
    background-position-y: bottom, bottom -450px, center;
    background-position-x: center, center, center;
    background-size: 100% 433px, 1500px, 100%;

    &--state--open {
      background-image: linear-gradient(-180deg, transparent 0%, rgba(11,128,235,.9) 62%),
        url('../assets/imgs/bg-features-color.png'),
        gradient-contrast-blue-400($angle: 219deg);

      background-position-y: bottom, bottom -100px, center;
      background-size: 100% 600px, 1500px, 100%;
    }
  }

  @include respond-to(large) {
    // $blue-400:
    // $blue-contrast-400:

    background-image:
      linear-gradient(39deg, $blue-400 200px, transparent 600px),
      linear-gradient(309deg, rgb(9, 140, 239) 200px, transparent 600px),
      linear-gradient(-180deg, rgba(0,198,255,0.00) 0%, rgba(11,128,235,0.5) 62%),
      url('../assets/imgs/bg-features-color.png'),
      gradient-contrast-blue-400($angle: 219deg);

    background-position-y: center, center, bottom, bottom -375px, center;
    background-position-x: left, right, center, center, center;
    background-size: 1500px, 1500px, 100% 433px, 1500px, 100%;

    &--state--open {
      background-image: linear-gradient(75deg, rgb(20, 73, 219) 200px, transparent 700px),
        linear-gradient(280deg, rgb(9, 140, 239) 200px, transparent 600px),
        linear-gradient(-180deg, rgba(0,198,255,0.00) 0%, rgba(11,128,235,0.9) 62%),
        url('../assets/imgs/bg-features-color.png'),
        gradient-contrast-blue-400($angle: 219deg);

      background-position-y: center, center, bottom, bottom -100px, center;
      background-size: 1500px, 1500px, 100% 600px, 1500px, 100%;
    }
  }

  &__heading {
    margin-bottom: $flow-m-lg;

    @include respond-to(tablet) {
      margin-bottom: $flow-m-lg * 3;
    }
  }

  &__icon {
    margin-bottom: $flow-m-sm;
    @include respond-to(tablet) {
      margin-bottom: $flow-m-lg * 1.2;
    }
  }

  &__text {
    line-height: 1.75;

    &--spread {
      &--lg {
        line-height: 2.38;
      }
    }

    &--spacing {
      &--narrow {
        @include respond-to(large) {
          letter-spacing: -0.5px;
        };
      }
    }
  }

  &__item {
    &:not(:last-child) {
      margin-bottom: $flow-m-lg;
    }
  }

  &__list {
    padding: 0;
    list-style: none;
    margin-bottom: $flow-m-lg;

    @include respond-to(tablet) {
      margin-bottom: $flow-m-xs;
    }

    @include respond-to(medium) {
      margin-bottom: $flow-m-md;
    }

    @include respond-to(large) {
      margin-bottom: $flow-m-lg * 3;
    }
  }

  & .text--context-end {
    margin-bottom: $flow-m-lg * 2;

    // @include respond-to(medium) {
    //   margin-bottom: $flow-m-lg * 2;
    // }
  }
}
